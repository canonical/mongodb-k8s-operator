{"uid":"35919b8384a45696","name":"test_shard_removal","fullName":"tests.integration.sharding_tests.test_sharding#test_shard_removal","historyId":"69197bb810dc956881ca30d4bd9b5bde","time":{"start":1728525247782,"stop":1728525612936,"duration":365154},"description":"Test shard removal.\n\n    This test also verifies that:\n    - Databases that are using this shard as a primary are moved.\n    - The balancer is turned back on if turned off.\n    - Config server supp    orts removing multiple shards.\n    ","descriptionHtml":"<p>Test shard removal.</p>\n<pre><code>This test also verifies that:\n- Databases that are using this shard as a primary are moved.\n- The balancer is turned back on if turned off.\n- Config server supp    orts removing multiple shards.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1728524498751,"stop":1728524498752,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1728524498752,"stop":1728524498987,"duration":235},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1728524498752,"stop":1728524498752,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1728525247782,"stop":1728525247782,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test shard removal.\n\n    This test also verifies that:\n    - Databases that are using this shard as a primary are moved.\n    - The balancer is turned back on if turned off.\n    - Config server supp    orts removing multiple shards.\n    ","status":"passed","steps":[],"attachments":[{"uid":"7c61b02c24267c61","name":"log","source":"7c61b02c24267c61.txt","type":"text/plain","size":3522}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1728525612936,"stop":1728525612936,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1728526641958,"stop":1728526642326,"duration":368},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1728526642327,"stop":1728526642327,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1728526642327,"stop":1728526642327,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1728526642327,"stop":1728526642327,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.sharding_tests"},{"name":"suite","value":"test_sharding"},{"name":"host","value":"fv-az1984-628"},{"name":"thread","value":"13194-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.sharding_tests.test_sharding"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"8250ec21d87dab74","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":57,"unknown":0,"total":58},"items":[{"uid":"a15c2fb16d365dbc","reportUrl":"../2514//#testresult/a15c2fb16d365dbc","status":"passed","time":{"start":1728438613313,"stop":1728438848376,"duration":235063}},{"uid":"48bf4ee453994df4","reportUrl":"../2493//#testresult/48bf4ee453994df4","status":"passed","time":{"start":1728352155380,"stop":1728352361053,"duration":205673}},{"uid":"41209d69d1a6fb9e","reportUrl":"../2484//#testresult/41209d69d1a6fb9e","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nconfig-server-one/0 [idle] maintenance: Draining shard shard-two\n  config-server-one/1 [idle] maintenance: Draining shard shard-two\n  shard-three/0 [executing] waiting: Waiting for config-server to remove shard\n  shard-three/1 [executing] waiting: Waiting for config-server to remove shard\n  shard-three/0 [executing] waiting: Waiting for config-server to remove shard\n  shard-three/1 [executing] waiting: Waiting for config-server to remove shard","time":{"start":1728265721336,"stop":1728266322548,"duration":601212}},{"uid":"a81465dead549dac","reportUrl":"../2483//#testresult/a81465dead549dac","status":"passed","time":{"start":1728179362656,"stop":1728179457732,"duration":95076}},{"uid":"c2523622d17a9b5d","reportUrl":"../2481//#testresult/c2523622d17a9b5d","status":"passed","time":{"start":1728006576420,"stop":1728006661799,"duration":85379}},{"uid":"5ecdeef3dd6b28a5","reportUrl":"../2477//#testresult/5ecdeef3dd6b28a5","status":"passed","time":{"start":1727920786561,"stop":1727920879833,"duration":93272}},{"uid":"399e194c79da0faf","reportUrl":"../2465//#testresult/399e194c79da0faf","status":"passed","time":{"start":1727834128308,"stop":1727834502418,"duration":374110}},{"uid":"8b8774ace7032785","reportUrl":"../2456//#testresult/8b8774ace7032785","status":"passed","time":{"start":1727747376699,"stop":1727747521475,"duration":144776}},{"uid":"f51736a7851164e6","reportUrl":"../2444//#testresult/f51736a7851164e6","status":"passed","time":{"start":1727660880782,"stop":1727661054945,"duration":174163}},{"uid":"d4e3440a0da351d2","reportUrl":"../2443//#testresult/d4e3440a0da351d2","status":"passed","time":{"start":1727574521810,"stop":1727574605800,"duration":83990}},{"uid":"9457ce98f652ba18","reportUrl":"../2438//#testresult/9457ce98f652ba18","status":"passed","time":{"start":1727401718285,"stop":1727401862918,"duration":144633}},{"uid":"157b745a08d5d099","reportUrl":"../2434//#testresult/157b745a08d5d099","status":"passed","time":{"start":1727315336125,"stop":1727315489379,"duration":153254}},{"uid":"c60798aa6b1463d4","reportUrl":"../2429//#testresult/c60798aa6b1463d4","status":"passed","time":{"start":1727229123290,"stop":1727229486860,"duration":363570}},{"uid":"89dbf8ecbb718da5","reportUrl":"../2421//#testresult/89dbf8ecbb718da5","status":"passed","time":{"start":1727142576125,"stop":1727142720989,"duration":144864}},{"uid":"d57cac2dc6e018af","reportUrl":"../2357//#testresult/d57cac2dc6e018af","status":"passed","time":{"start":1726191971927,"stop":1726192365155,"duration":393228}},{"uid":"795a94a625ca6af0","reportUrl":"../2348//#testresult/795a94a625ca6af0","status":"passed","time":{"start":1726105592140,"stop":1726105676715,"duration":84575}},{"uid":"31a35f38ce2b53ca","reportUrl":"../2330//#testresult/31a35f38ce2b53ca","status":"passed","time":{"start":1726019106974,"stop":1726019480278,"duration":373304}},{"uid":"441d1f5909a12abf","reportUrl":"../2317//#testresult/441d1f5909a12abf","status":"passed","time":{"start":1725846288742,"stop":1725846372959,"duration":84217}},{"uid":"a9b700bc8053effb","reportUrl":"../2316//#testresult/a9b700bc8053effb","status":"passed","time":{"start":1725759932068,"stop":1725760076510,"duration":144442}},{"uid":"5fed01732f0a13bf","reportUrl":"../2315//#testresult/5fed01732f0a13bf","status":"passed","time":{"start":1725673728454,"stop":1725673821785,"duration":93331}}]},"tags":["asyncio","group(1)"]},"source":"35919b8384a45696.json","parameterValues":[]}