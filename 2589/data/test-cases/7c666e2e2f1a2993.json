{"uid":"7c666e2e2f1a2993","name":"test_unconventual_shard_removal","fullName":"tests.integration.sharding_tests.test_sharding#test_unconventual_shard_removal","historyId":"2d1452a6e8ebc93a01abf92d108d01a4","time":{"start":1728957563635,"stop":1728958106556,"duration":542921},"description":"Tests that removing a shard application safely drains data.\n\n    It is preferred that users remove-relations instead of removing shard applications. But we do\n    support removing shard applications in a safe way.\n    ","descriptionHtml":"<p>Tests that removing a shard application safely drains data.</p>\n<pre><code>It is preferred that users remove-relations instead of removing shard applications. But we do\nsupport removing shard applications in a safe way.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1728956267190,"stop":1728956267190,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1728956267191,"stop":1728956267432,"duration":241},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1728956267191,"stop":1728956267191,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1728957563635,"stop":1728957563635,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Tests that removing a shard application safely drains data.\n\n    It is preferred that users remove-relations instead of removing shard applications. But we do\n    support removing shard applications in a safe way.\n    ","status":"passed","steps":[],"attachments":[{"uid":"49e02a4dd31a37b3","name":"log","source":"49e02a4dd31a37b3.txt","type":"text/plain","size":7783}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"ops_test::finalizer","time":{"start":1728958106557,"stop":1728958106939,"duration":382},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1728958106557,"stop":1728958106557,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1728958106940,"stop":1728958106940,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1728958106940,"stop":1728958106940,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1728958106940,"stop":1728958106940,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.sharding_tests"},{"name":"suite","value":"test_sharding"},{"name":"host","value":"fv-az1249-950"},{"name":"thread","value":"13154-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.sharding_tests.test_sharding"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"f46b147d6f0a99f5","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":7,"skipped":0,"passed":55,"unknown":1,"total":63},"items":[{"uid":"baa598140584a429","reportUrl":"../2570//#testresult/baa598140584a429","status":"passed","time":{"start":1728871343400,"stop":1728872190898,"duration":847498}},{"uid":"57abc03111eb1843","reportUrl":"../2567//#testresult/57abc03111eb1843","status":"unknown","time":{}},{"uid":"fc3f865f15b64475","reportUrl":"../2566//#testresult/fc3f865f15b64475","status":"passed","time":{"start":1728698546504,"stop":1728699363049,"duration":816545}},{"uid":"ed8d5b8be660a64e","reportUrl":"../2536//#testresult/ed8d5b8be660a64e","status":"passed","time":{"start":1728612129725,"stop":1728612987950,"duration":858225}},{"uid":"4bebdae4972c9750","reportUrl":"../2533//#testresult/4bebdae4972c9750","status":"passed","time":{"start":1728526013792,"stop":1728526641957,"duration":628165}},{"uid":"22454c7d4b2085ed","reportUrl":"../2514//#testresult/22454c7d4b2085ed","status":"passed","time":{"start":1728439607513,"stop":1728440434986,"duration":827473}},{"uid":"e711ea79849c36d7","reportUrl":"../2493//#testresult/e711ea79849c36d7","status":"passed","time":{"start":1728353021700,"stop":1728353609005,"duration":587305}},{"uid":"5b2dbc3a932e9d5b","reportUrl":"../2484//#testresult/5b2dbc3a932e9d5b","status":"broken","statusDetails":"juju.errors.JujuAPIError: cannot add relation \"shard-two:sharding config-server-one:config-server\": relation shard-two:sharding config-server-one:config-server is dying, but not yet removed","time":{"start":1728266322560,"stop":1728266322565,"duration":5}},{"uid":"742e33df6f5086d7","reportUrl":"../2483//#testresult/742e33df6f5086d7","status":"passed","time":{"start":1728179988935,"stop":1728180572060,"duration":583125}},{"uid":"df6eeea050a4b736","reportUrl":"../2481//#testresult/df6eeea050a4b736","status":"passed","time":{"start":1728007412706,"stop":1728008160845,"duration":748139}},{"uid":"2bddd304d8494033","reportUrl":"../2477//#testresult/2bddd304d8494033","status":"broken","statusDetails":"juju.errors.JujuAPIError: cannot add relation \"shard-two:sharding config-server-one:config-server\": relation shard-two:sharding config-server-one:config-server is dying, but not yet removed","time":{"start":1727920879844,"stop":1727920879849,"duration":5}},{"uid":"c70da814673b71c4","reportUrl":"../2465//#testresult/c70da814673b71c4","status":"passed","time":{"start":1727835120407,"stop":1727835688203,"duration":567796}},{"uid":"a2b4e1ffce4a0b7a","reportUrl":"../2456//#testresult/a2b4e1ffce4a0b7a","status":"passed","time":{"start":1727748311716,"stop":1727749328686,"duration":1016970}},{"uid":"34b62964e334599","reportUrl":"../2444//#testresult/34b62964e334599","status":"passed","time":{"start":1727661625173,"stop":1727662512515,"duration":887342}},{"uid":"d5e09546751a5c19","reportUrl":"../2443//#testresult/d5e09546751a5c19","status":"passed","time":{"start":1727575126100,"stop":1727575792200,"duration":666100}},{"uid":"24766e555876ed12","reportUrl":"../2438//#testresult/24766e555876ed12","status":"passed","time":{"start":1727402563114,"stop":1727403080869,"duration":517755}},{"uid":"73071e0f8702596","reportUrl":"../2434//#testresult/73071e0f8702596","status":"passed","time":{"start":1727316069077,"stop":1727316857254,"duration":788177}},{"uid":"e838b0b7c42a5ce0","reportUrl":"../2429//#testresult/e838b0b7c42a5ce0","status":"passed","time":{"start":1727230095819,"stop":1727231093363,"duration":997544}},{"uid":"6e581c71253eac3b","reportUrl":"../2421//#testresult/6e581c71253eac3b","status":"passed","time":{"start":1727143081909,"stop":1727144110519,"duration":1028610}},{"uid":"3d8a82b38102ef8e","reportUrl":"../2357//#testresult/3d8a82b38102ef8e","status":"passed","time":{"start":1726192975303,"stop":1726193802396,"duration":827093}}]},"tags":["asyncio","group(1)"]},"source":"7c666e2e2f1a2993.json","parameterValues":[]}