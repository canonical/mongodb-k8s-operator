{"uid":"11cd52d7ed9f3cb","name":"test_unconventual_shard_removal","fullName":"tests.integration.sharding_tests.test_sharding#test_unconventual_shard_removal","historyId":"2d1452a6e8ebc93a01abf92d108d01a4","time":{"start":1724205012389,"stop":1724205474710,"duration":462321},"description":"Tests that removing a shard application safely drains data.\n\n    It is preferred that users remove-relations instead of removing shard applications. But we do\n    support removing shard applications in a safe way.\n    ","descriptionHtml":"<p>Tests that removing a shard application safely drains data.</p>\n<pre><code>It is preferred that users remove-relations instead of removing shard applications. But we do\nsupport removing shard applications in a safe way.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1724203992792,"stop":1724203992792,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1724203992792,"stop":1724203992792,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1724203992793,"stop":1724203993026,"duration":233},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1724205012389,"stop":1724205012389,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Tests that removing a shard application safely drains data.\n\n    It is preferred that users remove-relations instead of removing shard applications. But we do\n    support removing shard applications in a safe way.\n    ","status":"passed","steps":[],"attachments":[{"uid":"ec4c9f3ceedb6c","name":"log","source":"ec4c9f3ceedb6c.txt","type":"text/plain","size":14576}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1724205474710,"stop":1724205474710,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1724205474711,"stop":1724205475088,"duration":377},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1724205475089,"stop":1724205475089,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1724205475089,"stop":1724205475089,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1724205475089,"stop":1724205475089,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.sharding_tests"},{"name":"suite","value":"test_sharding"},{"name":"host","value":"fv-az837-604"},{"name":"thread","value":"13211-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.sharding_tests.test_sharding"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"900c8c23b78bf55d","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":20,"unknown":0,"total":21},"items":[{"uid":"3a5e6c4d5ad9e6c8","reportUrl":"../2143//#testresult/3a5e6c4d5ad9e6c8","status":"passed","time":{"start":1724119336097,"stop":1724119758116,"duration":422019}},{"uid":"11b57b57c6f76b4","reportUrl":"../2124//#testresult/11b57b57c6f76b4","status":"passed","time":{"start":1724032891206,"stop":1724033463128,"duration":571922}},{"uid":"e922b61fd3903c61","reportUrl":"../2123//#testresult/e922b61fd3903c61","status":"passed","time":{"start":1723946334936,"stop":1723947177102,"duration":842166}},{"uid":"9e4297ffad3d4457","reportUrl":"../2122//#testresult/9e4297ffad3d4457","status":"passed","time":{"start":1723860013458,"stop":1723860353856,"duration":340398}},{"uid":"a3ea5762f7d493a0","reportUrl":"../2103//#testresult/a3ea5762f7d493a0","status":"passed","time":{"start":1723773507306,"stop":1723774398564,"duration":891258}},{"uid":"beb60bd650ddab05","reportUrl":"../2101//#testresult/beb60bd650ddab05","status":"broken","statusDetails":"juju.errors.JujuAPIError: cannot add relation \"shard-two:sharding config-server-one:config-server\": relation shard-two:sharding config-server-one:config-server is dying, but not yet removed","time":{"start":1723686353665,"stop":1723686353672,"duration":7}},{"uid":"75303cff8964c6af","reportUrl":"../2074//#testresult/75303cff8964c6af","status":"passed","time":{"start":1723600703712,"stop":1723601005221,"duration":301509}},{"uid":"a2bb682df0cbc65","reportUrl":"../2061//#testresult/a2bb682df0cbc65","status":"passed","time":{"start":1723514828395,"stop":1723515129752,"duration":301357}},{"uid":"7975ef10fb74aa5a","reportUrl":"../2053//#testresult/7975ef10fb74aa5a","status":"passed","time":{"start":1723428685565,"stop":1723429226355,"duration":540790}},{"uid":"779f76675e21e5bc","reportUrl":"../2048//#testresult/779f76675e21e5bc","status":"passed","time":{"start":1723341794990,"stop":1723342397604,"duration":602614}},{"uid":"a65108f096f0e2bd","reportUrl":"../2047//#testresult/a65108f096f0e2bd","status":"passed","time":{"start":1723256207905,"stop":1723256789587,"duration":581682}},{"uid":"e99ed0a10548f259","reportUrl":"../2040//#testresult/e99ed0a10548f259","status":"passed","time":{"start":1723169188438,"stop":1723169799364,"duration":610926}},{"uid":"83604aef45c6fb22","reportUrl":"../2030//#testresult/83604aef45c6fb22","status":"passed","time":{"start":1723082982729,"stop":1723083253914,"duration":271185}},{"uid":"37e3738339eb5f85","reportUrl":"../2026//#testresult/37e3738339eb5f85","status":"passed","time":{"start":1722996088138,"stop":1722996330369,"duration":242231}},{"uid":"1413f59cde05f1f5","reportUrl":"../2019//#testresult/1413f59cde05f1f5","status":"passed","time":{"start":1722909837609,"stop":1722910629013,"duration":791404}},{"uid":"478c0f4a7f04a867","reportUrl":"../2006//#testresult/478c0f4a7f04a867","status":"passed","time":{"start":1722823586597,"stop":1722823848948,"duration":262351}},{"uid":"3b366c1424b7cab6","reportUrl":"../2003//#testresult/3b366c1424b7cab6","status":"passed","time":{"start":1722736782720,"stop":1722737115136,"duration":332416}},{"uid":"4ff1e53afa536793","reportUrl":"../2002//#testresult/4ff1e53afa536793","status":"passed","time":{"start":1722650867134,"stop":1722651359326,"duration":492192}},{"uid":"3bb37d8c7083ad92","reportUrl":"../1980//#testresult/3bb37d8c7083ad92","status":"passed","time":{"start":1722564137851,"stop":1722564600294,"duration":462443}},{"uid":"cf04ccd2d5a2902f","reportUrl":"../1962//#testresult/cf04ccd2d5a2902f","status":"passed","time":{"start":1722477754446,"stop":1722478046380,"duration":291934}}]},"tags":["asyncio","group(1)"]},"source":"11cd52d7ed9f3cb.json","parameterValues":[]}