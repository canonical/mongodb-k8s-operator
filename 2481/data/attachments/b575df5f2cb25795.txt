[32mINFO    [0m integration.test_teardown:test_teardown.py:72 Scaling up by 2 units
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [idle] active: Primary
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [idle] active: Primary
  mongodb-k8s/2 [executing] maintenance: installing charm software
  mongodb-k8s/1 [executing] maintenance: installing charm software
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [idle] active: Primary
  mongodb-k8s/2 [idle] active: 
  mongodb-k8s/1 [idle] active: 
[32mINFO    [0m integration.ha_tests.helpers:helpers.py:340 Unit name: mongodb-k8s/0. Target unit name: mongodb-k8s/0, True
[32mINFO    [0m integration.test_teardown:test_teardown.py:74 Scaling down by 1 units
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [idle] active: Primary
  mongodb-k8s/2 [idle] active: 
  mongodb-k8s/1 [idle] active: 
[32mINFO    [0m integration.ha_tests.helpers:helpers.py:340 Unit name: mongodb-k8s/0. Target unit name: mongodb-k8s/0, True
[32mINFO    [0m integration.test_teardown:test_teardown.py:74 Scaling down by 1 units
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [idle] active: Primary
  mongodb-k8s/1 [idle] active: 
[32mINFO    [0m integration.ha_tests.helpers:helpers.py:340 Unit name: mongodb-k8s/0. Target unit name: mongodb-k8s/0, True
[32mINFO    [0m integration.test_teardown:test_teardown.py:72 Scaling up by 2 units
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [idle] active: Primary
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [idle] active: Primary
  mongodb-k8s/2 [executing] active: 
  mongodb-k8s/1 [executing] active: 
[32mINFO    [0m integration.ha_tests.helpers:helpers.py:340 Unit name: mongodb-k8s/0. Target unit name: mongodb-k8s/0, True
[32mINFO    [0m integration.test_teardown:test_teardown.py:74 Scaling down by 2 units
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [idle] active: Primary
  mongodb-k8s/2 [idle] active: 
  mongodb-k8s/1 [idle] active: 
[32mINFO    [0m integration.ha_tests.helpers:helpers.py:340 Unit name: mongodb-k8s/0. Target unit name: mongodb-k8s/0, True
[32mINFO    [0m integration.test_teardown:test_teardown.py:72 Scaling up by 3 units
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [idle] active: Primary
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [executing] active: Primary
  mongodb-k8s/2 [executing] maintenance: installing charm software
  mongodb-k8s/1 [executing] maintenance: installing charm software
  mongodb-k8s/3 [executing] maintenance: installing charm software
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [idle] active: Primary
  mongodb-k8s/2 [idle] active: 
  mongodb-k8s/1 [idle] active: 
  mongodb-k8s/3 [idle] active: 
[32mINFO    [0m integration.ha_tests.helpers:helpers.py:340 Unit name: mongodb-k8s/0. Target unit name: mongodb-k8s/0, True
[32mINFO    [0m integration.test_teardown:test_teardown.py:74 Scaling down by 3 units
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [idle] active: Primary
  mongodb-k8s/2 [idle] active: 
  mongodb-k8s/1 [idle] active: 
  mongodb-k8s/3 [idle] active: 
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [idle] active: Primary
[32mINFO    [0m integration.ha_tests.helpers:helpers.py:340 Unit name: mongodb-k8s/0. Target unit name: mongodb-k8s/0, True
[32mINFO    [0m integration.test_teardown:test_teardown.py:72 Scaling up by 4 units
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [idle] active: Primary
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [executing] active: Primary
  mongodb-k8s/2 [executing] maintenance: installing charm software
  mongodb-k8s/1 [executing] maintenance: installing charm software
  mongodb-k8s/3 [executing] maintenance: installing charm software
  mongodb-k8s/4 [executing] maintenance: installing charm software
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [idle] active: Primary
  mongodb-k8s/2 [idle] active: 
  mongodb-k8s/1 [idle] active: 
  mongodb-k8s/3 [idle] active: 
  mongodb-k8s/4 [idle] active: 
[32mINFO    [0m integration.ha_tests.helpers:helpers.py:340 Unit name: mongodb-k8s/0. Target unit name: mongodb-k8s/0, True
[32mINFO    [0m integration.test_teardown:test_teardown.py:74 Scaling down by 4 units
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [idle] active: Primary
  mongodb-k8s/2 [idle] active: 
  mongodb-k8s/1 [idle] active: 
  mongodb-k8s/3 [idle] active: 
  mongodb-k8s/4 [idle] active: 
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [idle] active: Primary
  mongodb-k8s/2 [executing] terminated: 
  mongodb-k8s/1 [executing] terminated: 
  mongodb-k8s/3 [executing] terminated: 
  mongodb-k8s/4 [executing] terminated: 
[32mINFO    [0m integration.ha_tests.helpers:helpers.py:340 Unit name: mongodb-k8s/0. Target unit name: mongodb-k8s/0, True
[32mINFO    [0m integration.test_teardown:test_teardown.py:72 Scaling up by 5 units
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [idle] active: Primary
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [idle] active: Primary
  mongodb-k8s/2 [executing] maintenance: installing charm software
  mongodb-k8s/1 [executing] maintenance: installing charm software
  mongodb-k8s/3 [executing] maintenance: installing charm software
  mongodb-k8s/4 [executing] maintenance: installing charm software
  mongodb-k8s/5 [allocating] waiting: agent initialising
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [executing] active: Primary
  mongodb-k8s/2 [executing] active: 
  mongodb-k8s/1 [idle] active: 
  mongodb-k8s/3 [idle] active: 
  mongodb-k8s/4 [executing] active: 
  mongodb-k8s/5 [executing] active: 
[32mINFO    [0m integration.ha_tests.helpers:helpers.py:340 Unit name: mongodb-k8s/0. Target unit name: mongodb-k8s/0, True
[32mINFO    [0m integration.test_teardown:test_teardown.py:74 Scaling down by 5 units
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [idle] active: Primary
  mongodb-k8s/2 [idle] active: 
  mongodb-k8s/1 [idle] active: 
  mongodb-k8s/3 [idle] active: 
  mongodb-k8s/4 [idle] active: 
  mongodb-k8s/5 [idle] active: 
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [idle] active: Primary
  mongodb-k8s/2 [executing] terminated: 
  mongodb-k8s/1 [executing] terminated: 
  mongodb-k8s/3 [executing] terminated: 
  mongodb-k8s/4 [executing] terminated: 
  mongodb-k8s/5 [executing] terminated: 
[32mINFO    [0m integration.ha_tests.helpers:helpers.py:340 Unit name: mongodb-k8s/0. Target unit name: mongodb-k8s/0, True
[32mINFO    [0m integration.test_teardown:test_teardown.py:72 Scaling up by 6 units
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [idle] active: Primary
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [executing] active: Primary
  mongodb-k8s/2 [executing] maintenance: installing charm software
  mongodb-k8s/1 [executing] maintenance: installing charm software
  mongodb-k8s/3 [executing] maintenance: installing charm software
  mongodb-k8s/4 [executing] maintenance: installing charm software
  mongodb-k8s/5 [executing] maintenance: installing charm software
  mongodb-k8s/6 [allocating] waiting: agent initialising
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [idle] active: Primary
  mongodb-k8s/2 [executing] active: 
  mongodb-k8s/1 [executing] active: 
  mongodb-k8s/3 [executing] active: 
  mongodb-k8s/4 [executing] active: 
  mongodb-k8s/5 [executing] active: 
  mongodb-k8s/6 [executing] active: 
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [idle] active: Primary
[32mINFO    [0m integration.ha_tests.helpers:helpers.py:340 Unit name: mongodb-k8s/0. Target unit name: mongodb-k8s/0, True
[32mINFO    [0m integration.test_teardown:test_teardown.py:74 Scaling down by 6 units
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [idle] active: Primary
  mongodb-k8s/2 [idle] active: 
  mongodb-k8s/1 [idle] active: 
  mongodb-k8s/3 [idle] active: 
  mongodb-k8s/4 [idle] active: 
  mongodb-k8s/5 [idle] active: 
  mongodb-k8s/6 [idle] active: 
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [executing] active: Primary
  mongodb-k8s/2 [executing] terminated: 
  mongodb-k8s/1 [executing] terminated: 
  mongodb-k8s/3 [executing] terminated: 
  mongodb-k8s/4 [executing] terminated: 
  mongodb-k8s/5 [executing] terminated: 
  mongodb-k8s/6 [executing] maintenance: stopping charm software
[32mINFO    [0m integration.ha_tests.helpers:helpers.py:340 Unit name: mongodb-k8s/0. Target unit name: mongodb-k8s/0, True
[32mINFO    [0m integration.test_teardown:test_teardown.py:72 Scaling up by 7 units
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [idle] active: Primary
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [idle] active: Primary
  mongodb-k8s/2 [allocating] waiting: agent initialising
  mongodb-k8s/1 [allocating] waiting: agent initialising
  mongodb-k8s/3 [allocating] waiting: agent initialising
  mongodb-k8s/4 [allocating] waiting: agent initialising
  mongodb-k8s/5 [allocating] waiting: agent initialising
  mongodb-k8s/6 [allocating] waiting: agent initialising
  mongodb-k8s/7 [allocating] waiting: agent initialising
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [executing] active: Primary
  mongodb-k8s/2 [executing] active: 
  mongodb-k8s/1 [executing] active: 
  mongodb-k8s/3 [executing] active: 
  mongodb-k8s/4 [executing] active: 
  mongodb-k8s/5 [executing] active: 
  mongodb-k8s/6 [executing] active: 
  mongodb-k8s/7 [executing] maintenance: installing charm software
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [executing] active: Primary
  mongodb-k8s/2 [idle] active: 
  mongodb-k8s/1 [idle] active: 
  mongodb-k8s/3 [idle] active: 
  mongodb-k8s/4 [idle] active: 
  mongodb-k8s/5 [idle] active: 
  mongodb-k8s/6 [idle] active: 
  mongodb-k8s/7 [idle] active: 
[32mINFO    [0m integration.ha_tests.helpers:helpers.py:340 Unit name: mongodb-k8s/0. Target unit name: mongodb-k8s/0, True
[32mINFO    [0m integration.test_teardown:test_teardown.py:74 Scaling down by 7 units
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [idle] active: Primary
  mongodb-k8s/2 [idle] active: 
  mongodb-k8s/1 [idle] active: 
  mongodb-k8s/3 [idle] active: 
  mongodb-k8s/4 [idle] active: 
  mongodb-k8s/5 [idle] active: 
  mongodb-k8s/6 [idle] active: 
  mongodb-k8s/7 [idle] active: 
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [executing] active: Primary
  mongodb-k8s/2 [executing] terminated: 
  mongodb-k8s/1 [executing] terminated: 
  mongodb-k8s/3 [executing] terminated: 
  mongodb-k8s/4 [executing] terminated: 
  mongodb-k8s/5 [executing] terminated: 
  mongodb-k8s/6 [executing] maintenance: stopping charm software
  mongodb-k8s/7 [executing] maintenance: stopping charm software
[32mINFO    [0m juju.model:model.py:2972 Waiting for model:
  mongodb-k8s/0 [idle] active: Primary
  mongodb-k8s/2 [executing] terminated: 
  mongodb-k8s/1 [executing] terminated: 
  mongodb-k8s/3 [executing] terminated: 
  mongodb-k8s/4 [executing] terminated: 
  mongodb-k8s/5 [executing] terminated: 
  mongodb-k8s/6 [executing] terminated: 
  mongodb-k8s/7 [executing] terminated: 
[32mINFO    [0m integration.ha_tests.helpers:helpers.py:340 Unit name: mongodb-k8s/0. Target unit name: mongodb-k8s/0, True
[32mINFO    [0m pytest_operator.plugin:plugin.py:903 Model status:

Model  Controller          Cloud/Region        Version  SLA          Timestamp
test   microk8s-localhost  microk8s/localhost  3.5.3    unsupported  01:52:54Z

App          Version  Status  Scale  Charm        Channel  Rev  Address         Exposed  Message
mongodb-k8s           active      1  mongodb-k8s             0  10.152.183.205  no       Primary

Unit            Workload  Agent  Address       Ports  Message
mongodb-k8s/0*  active    idle   10.1.245.138         Primary

[32mINFO    [0m pytest_operator.plugin:plugin.py:909 Juju error logs:

unit-mongodb-k8s-2: 01:39:34 ERROR unit.mongodb-k8s/2.juju-log mongodb-k8s/2.is_unit_in_replica_set PyMongoError=No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 66ff475551d4753597065fb8, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('mongodb-k8s-2.mongodb-k8s-endpoints', 27017) server_type: RSGhost, rtt: 0.0005541509999602567>]>
unit-mongodb-k8s-1: 01:40:03 ERROR unit.mongodb-k8s/1.juju-log mongodb-k8s/1.is_unit_in_replica_set PyMongoError=No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 66ff4772aef330c9a1f0f917, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('mongodb-k8s-1.mongodb-k8s-endpoints', 27017) server_type: RSGhost, rtt: 0.0004954949999955716>]>
unit-mongodb-k8s-1: 01:41:18 ERROR unit.mongodb-k8s/1.juju-log mongodb-k8s/1.is_unit_in_replica_set PyMongoError=No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 66ff47bd37bc7af857423a1b, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('mongodb-k8s-1.mongodb-k8s-endpoints', 27017) server_type: RSGhost, rtt: 0.0015275790000259803>]>
unit-mongodb-k8s-1: 01:42:54 ERROR unit.mongodb-k8s/1.juju-log mongodb-k8s/1.is_unit_in_replica_set PyMongoError=No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 66ff481d01ef34a1c6f16376, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('mongodb-k8s-1.mongodb-k8s-endpoints', 27017) server_type: RSGhost, rtt: 0.0009445000000596337>]>
unit-mongodb-k8s-1: 01:44:42 ERROR unit.mongodb-k8s/1.juju-log mongodb-k8s/1.is_unit_in_replica_set PyMongoError=No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 66ff488935b65e5d817a57dd, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('mongodb-k8s-1.mongodb-k8s-endpoints', 27017) server_type: RSGhost, rtt: 0.00415094400000271>]>
unit-mongodb-k8s-3: 01:44:44 ERROR unit.mongodb-k8s/3.juju-log mongodb-k8s/3.is_unit_in_replica_set PyMongoError=No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 66ff488b12cc9143b2637099, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('mongodb-k8s-3.mongodb-k8s-endpoints', 27017) server_type: RSGhost, rtt: 0.00199397299991233>]>
unit-mongodb-k8s-2: 01:46:46 ERROR unit.mongodb-k8s/2.juju-log mongodb-k8s/2.is_unit_in_replica_set PyMongoError=No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 66ff490571526aad52287ccf, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('mongodb-k8s-2.mongodb-k8s-endpoints', 27017) server_type: RSGhost, rtt: 0.004395656000042436>]>
unit-mongodb-k8s-1: 01:46:46 ERROR unit.mongodb-k8s/1.juju-log mongodb-k8s/1.is_unit_in_replica_set PyMongoError=No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 66ff4905e3c7f50789e29763, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('mongodb-k8s-1.mongodb-k8s-endpoints', 27017) server_type: RSGhost, rtt: 0.00105858699998862>]>
unit-mongodb-k8s-3: 01:46:48 ERROR unit.mongodb-k8s/3.juju-log mongodb-k8s/3.is_unit_in_replica_set PyMongoError=No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 66ff49076bc3170f444ea4e3, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('mongodb-k8s-3.mongodb-k8s-endpoints', 27017) server_type: RSGhost, rtt: 0.0012123839999276242>]>
unit-mongodb-k8s-5: 01:46:55 ERROR unit.mongodb-k8s/5.juju-log mongodb-k8s/5.is_unit_in_replica_set PyMongoError=No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 66ff490e0f2cc51c9462ebc3, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('mongodb-k8s-5.mongodb-k8s-endpoints', 27017) server_type: RSGhost, rtt: 0.0006083260000195878>]>
unit-mongodb-k8s-2: 01:49:13 ERROR unit.mongodb-k8s/2.juju-log mongodb-k8s/2.is_unit_in_replica_set PyMongoError=No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 66ff4998a131263d8b223048, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('mongodb-k8s-2.mongodb-k8s-endpoints', 27017) server_type: RSGhost, rtt: 0.002182342999958564>]>
unit-mongodb-k8s-1: 01:49:14 ERROR unit.mongodb-k8s/1.juju-log mongodb-k8s/1.is_unit_in_replica_set PyMongoError=No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 66ff4999d3a50b027d54ed39, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('mongodb-k8s-1.mongodb-k8s-endpoints', 27017) server_type: RSGhost, rtt: 0.0029008950000388722>]>
unit-mongodb-k8s-6: 01:49:27 ERROR unit.mongodb-k8s/6.juju-log mongodb-k8s/6.is_unit_in_replica_set PyMongoError=No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 66ff49a624bc2ba170b7ae12, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('mongodb-k8s-6.mongodb-k8s-endpoints', 27017) server_type: RSGhost, rtt: 0.0011076769999363023>]>
unit-mongodb-k8s-2: 01:52:11 ERROR unit.mongodb-k8s/2.juju-log mongodb-k8s/2.is_unit_in_replica_set PyMongoError=No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 66ff4a49df149d75becf03d5, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('mongodb-k8s-2.mongodb-k8s-endpoints', 27017) server_type: RSGhost, rtt: 0.00586539999994784>]>
unit-mongodb-k8s-3: 01:52:12 ERROR unit.mongodb-k8s/3.juju-log mongodb-k8s/3.is_unit_in_replica_set PyMongoError=No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 66ff4a4bad05a4c015c7ab34, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('mongodb-k8s-3.mongodb-k8s-endpoints', 27017) server_type: RSGhost, rtt: 0.0006453749999764113>]>
unit-mongodb-k8s-1: 01:52:13 ERROR unit.mongodb-k8s/1.juju-log mongodb-k8s/1.is_unit_in_replica_set PyMongoError=No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 66ff4a4c6577c6115db3137e, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('mongodb-k8s-1.mongodb-k8s-endpoints', 27017) server_type: RSGhost, rtt: 0.006603036000115026>]>
unit-mongodb-k8s-6: 01:52:24 ERROR unit.mongodb-k8s/6.juju-log mongodb-k8s/6.is_unit_in_replica_set PyMongoError=No replica set members match selector "Primary()", Timeout: 1.0s, Topology Description: <TopologyDescription id: 66ff4a577dbfad36971846b1, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('mongodb-k8s-6.mongodb-k8s-endpoints', 27017) server_type: RSGhost, rtt: 0.0012626469999759138>]>

[32mINFO    [0m pytest_operator.plugin:plugin.py:991 Forgetting model main...