{"uid":"73071e0f8702596","name":"test_unconventual_shard_removal","fullName":"tests.integration.sharding_tests.test_sharding#test_unconventual_shard_removal","historyId":"2d1452a6e8ebc93a01abf92d108d01a4","time":{"start":1727316069077,"stop":1727316857254,"duration":788177},"description":"Tests that removing a shard application safely drains data.\n\n    It is preferred that users remove-relations instead of removing shard applications. But we do\n    support removing shard applications in a safe way.\n    ","descriptionHtml":"<p>Tests that removing a shard application safely drains data.</p>\n<pre><code>It is preferred that users remove-relations instead of removing shard applications. But we do\nsupport removing shard applications in a safe way.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1727314609398,"stop":1727314609398,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1727314609398,"stop":1727314609398,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1727314609398,"stop":1727314609646,"duration":248},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1727316069076,"stop":1727316069076,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Tests that removing a shard application safely drains data.\n\n    It is preferred that users remove-relations instead of removing shard applications. But we do\n    support removing shard applications in a safe way.\n    ","status":"passed","steps":[],"attachments":[{"uid":"b97eb1b59f1611be","name":"log","source":"b97eb1b59f1611be.txt","type":"text/plain","size":13353}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1727316857254,"stop":1727316857254,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1727316857255,"stop":1727316857710,"duration":455},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1727316857712,"stop":1727316857712,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1727316857712,"stop":1727316857712,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1727316857712,"stop":1727316857712,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.sharding_tests"},{"name":"suite","value":"test_sharding"},{"name":"host","value":"fv-az841-217"},{"name":"thread","value":"13442-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.sharding_tests.test_sharding"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"cc8b19415352007d","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":5,"skipped":0,"passed":41,"unknown":0,"total":46},"items":[{"uid":"e838b0b7c42a5ce0","reportUrl":"../2429//#testresult/e838b0b7c42a5ce0","status":"passed","time":{"start":1727230095819,"stop":1727231093363,"duration":997544}},{"uid":"6e581c71253eac3b","reportUrl":"../2421//#testresult/6e581c71253eac3b","status":"passed","time":{"start":1727143081909,"stop":1727144110519,"duration":1028610}},{"uid":"3d8a82b38102ef8e","reportUrl":"../2357//#testresult/3d8a82b38102ef8e","status":"passed","time":{"start":1726192975303,"stop":1726193802396,"duration":827093}},{"uid":"d5c7f1ad84ad4600","reportUrl":"../2348//#testresult/d5c7f1ad84ad4600","status":"passed","time":{"start":1726106004567,"stop":1726106592853,"duration":588286}},{"uid":"5cb8ab319513a9ea","reportUrl":"../2330//#testresult/5cb8ab319513a9ea","status":"passed","time":{"start":1726019840084,"stop":1726020622415,"duration":782331}},{"uid":"27ad7073fe4e628","reportUrl":"../2317//#testresult/27ad7073fe4e628","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nshard-two/0 [idle] waiting: Waiting for primary re-election..\n  shard-two/1 [executing] maintenance: stopping charm software","time":{"start":1725846713062,"stop":1725847679401,"duration":966339}},{"uid":"81171e82417a0682","reportUrl":"../2316//#testresult/81171e82417a0682","status":"passed","time":{"start":1725761025377,"stop":1725761467028,"duration":441651}},{"uid":"e93ef4e8e9d009b2","reportUrl":"../2315//#testresult/e93ef4e8e9d009b2","status":"passed","time":{"start":1725674561722,"stop":1725675123856,"duration":562134}},{"uid":"149234b71f94210a","reportUrl":"../2312//#testresult/149234b71f94210a","status":"passed","time":{"start":1725587588143,"stop":1725588050273,"duration":462130}},{"uid":"b42d7da25880aafe","reportUrl":"../2309//#testresult/b42d7da25880aafe","status":"passed","time":{"start":1725501677242,"stop":1725502399505,"duration":722263}},{"uid":"18d75da97dca1872","reportUrl":"../2306//#testresult/18d75da97dca1872","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nshard-two/0 [idle] waiting: Waiting for primary re-election..\n  shard-two/1 [executing] maintenance: stopping charm software","time":{"start":1725415006907,"stop":1725415783274,"duration":776367}},{"uid":"cbc0f3a26823f203","reportUrl":"../2296//#testresult/cbc0f3a26823f203","status":"passed","time":{"start":1725328570718,"stop":1725328832691,"duration":261973}},{"uid":"d31e324e8a9c00a0","reportUrl":"../2293//#testresult/d31e324e8a9c00a0","status":"passed","time":{"start":1725242678806,"stop":1725243551112,"duration":872306}},{"uid":"be780c7af571a320","reportUrl":"../2292//#testresult/be780c7af571a320","status":"passed","time":{"start":1725155969934,"stop":1725156402167,"duration":432233}},{"uid":"114f190d10c29061","reportUrl":"../2291//#testresult/114f190d10c29061","status":"passed","time":{"start":1725069403829,"stop":1725070185977,"duration":782148}},{"uid":"8498e0ff44983905","reportUrl":"../2285//#testresult/8498e0ff44983905","status":"passed","time":{"start":1724982652072,"stop":1724982843415,"duration":191343}},{"uid":"b02766ddf798e0c","reportUrl":"../2281//#testresult/b02766ddf798e0c","status":"passed","time":{"start":1724896474212,"stop":1724896987201,"duration":512989}},{"uid":"44dd2bd3490360a5","reportUrl":"../2258//#testresult/44dd2bd3490360a5","status":"passed","time":{"start":1724810567123,"stop":1724811189629,"duration":622506}},{"uid":"13af2ecb676ce5ae","reportUrl":"../2243//#testresult/13af2ecb676ce5ae","status":"passed","time":{"start":1724723773060,"stop":1724724084742,"duration":311682}},{"uid":"62aa3877d95c9bbf","reportUrl":"../2231//#testresult/62aa3877d95c9bbf","status":"passed","time":{"start":1724637641955,"stop":1724638103759,"duration":461804}}]},"tags":["asyncio","group(1)"]},"source":"73071e0f8702596.json","parameterValues":[]}